/Users/snemeth/development/apache/hadoop/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-shuffle/target/test-dir/TestShuffleHandlerLocDir/usercache/randomUser/appcache/application_12345_0001/output/attempt_12345_1_m_1_0
2021-06-10 17:19:40,469 DEBUG [Time-limited test] impl.IOStatisticsStoreImpl (IOStatisticsStoreImpl.java:incrementCounter(193)) - Incrementing counter stream_write_bytes by 32 with final value 32
2021-06-10 17:19:40,470 DEBUG [Time-limited test] lib.MutableMetricsFactory (MutableMetricsFactory.java:newForField(43)) - field org.apache.hadoop.metrics2.lib.MutableGaugeInt org.apache.hadoop.mapred.ShuffleHandler$ShuffleMetrics.shuffleConnections with annotation @org.apache.hadoop.metrics2.annotation.Metric(sampleName=Ops, always=false, valueName=Time, about=, interval=10, type=DEFAULT, value=[# of current shuffle connections])
2021-06-10 17:19:40,470 DEBUG [Time-limited test] lib.MutableMetricsFactory (MutableMetricsFactory.java:newForField(43)) - field org.apache.hadoop.metrics2.lib.MutableCounterLong org.apache.hadoop.mapred.ShuffleHandler$ShuffleMetrics.shuffleOutputBytes with annotation @org.apache.hadoop.metrics2.annotation.Metric(sampleName=Ops, always=false, valueName=Time, about=, interval=10, type=DEFAULT, value=[Shuffle output in bytes])
2021-06-10 17:19:40,470 DEBUG [Time-limited test] lib.MutableMetricsFactory (MutableMetricsFactory.java:newForField(43)) - field org.apache.hadoop.metrics2.lib.MutableCounterInt org.apache.hadoop.mapred.ShuffleHandler$ShuffleMetrics.shuffleOutputsFailed with annotation @org.apache.hadoop.metrics2.annotation.Metric(sampleName=Ops, always=false, valueName=Time, about=, interval=10, type=DEFAULT, value=[# of failed shuffle outputs])
2021-06-10 17:19:40,470 DEBUG [Time-limited test] lib.MutableMetricsFactory (MutableMetricsFactory.java:newForField(43)) - field org.apache.hadoop.metrics2.lib.MutableCounterInt org.apache.hadoop.mapred.ShuffleHandler$ShuffleMetrics.shuffleOutputsOK with annotation @org.apache.hadoop.metrics2.annotation.Metric(sampleName=Ops, always=false, valueName=Time, about=, interval=10, type=DEFAULT, value=[# of succeeeded shuffle outputs])
2021-06-10 17:19:40,470 DEBUG [Time-limited test] impl.MetricsSystemImpl (MetricsSystemImpl.java:register(231)) - ShuffleMetrics, Shuffle output metrics
2021-06-10 17:19:40,470 DEBUG [Time-limited test] service.AbstractService (AbstractService.java:enterState(444)) - Service: mapreduce_shuffle entered state INITED
2021-06-10 17:19:40,473 DEBUG [Time-limited test] service.AbstractService (AbstractService.java:serviceInit(314)) - Config has been overridden during init
2021-06-10 17:19:40,474 INFO  [Time-limited test] mapred.IndexCache (IndexCache.java:<init>(47)) - IndexCache created with max memory = 10485760
2021-06-10 17:19:40,476 INFO  [Time-limited test] mapred.ShuffleHandler (ShuffleHandler.java:serviceStart(577)) - mapreduce_shuffle listening on port 62865
2021-06-10 17:19:40,476 DEBUG [Time-limited test] service.AbstractService (AbstractService.java:start(198)) - Service mapreduce_shuffle is started
2021-06-10 17:19:40,476 INFO  [Time-limited test] mapred.ShuffleHandler (ShuffleHandler.java:addJobToken(742)) - Added token for job_12345_0001
2021-06-10 17:19:40,478 DEBUG [ShuffleHandler Netty Worker #0] mapred.ShuffleHandler (ShuffleHandler.java:channelActive(930)) - channelActive
2021-06-10 17:19:40,478 DEBUG [ShuffleHandler Netty Worker #0] mapred.ShuffleHandler (ShuffleHandler.java:channelActive(947)) - Added channel: [id: 0xb47cf80f, L:/127.0.0.1:62865 - R:/127.0.0.1:62866]. Accepted number of connections=1
2021-06-10 17:19:40,478 DEBUG [ShuffleHandler Netty Worker #0] mapred.ShuffleHandler (ShuffleHandler.java:channelRead(963)) - channelRead
2021-06-10 17:19:40,479 DEBUG [ShuffleHandler Netty Worker #0] mapred.ShuffleHandler (ShuffleHandler.java:channelRead(975)) - Shuffle version: 1.0.0
2021-06-10 17:19:40,479 DEBUG [ShuffleHandler Netty Worker #0] mapred.ShuffleHandler (ShuffleHandler.java:channelRead(999)) - RECV: /mapOutput?job=job_12345_0001&reduce=0&map=attempt_12345_1_m_1_0
  mapId: [attempt_12345_1_m_1_0]
  reduceId: [0]
  jobId: [job_12345_0001]
  keepAlive: false
2021-06-10 17:19:40,479 DEBUG [ShuffleHandler Netty Worker #0] mapred.ShuffleHandler (ShuffleHandler.java:setResponseHeaders(1240)) - Setting connection close header...
2021-06-10 17:19:40,479 DEBUG [ShuffleHandler Netty Worker #0] mapred.ShuffleHandler (ShuffleHandler.java:channelRead(1062)) - Writing response: DefaultHttpResponse(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 OK
Connection: close
2021-06-10 17:19:40,479 DEBUG [ShuffleHandler Netty Worker #0] mapred.ShuffleHandler (ShuffleHandler.java:operationComplete(1067)) - Written HTTP response object successfully
2021-06-10 17:19:40,479 DEBUG [ShuffleHandler Netty Worker #0] mapred.ShuffleHandler (ShuffleHandler.java:channelRead(1077)) - After response
2021-06-10 17:19:40,480 DEBUG [ShuffleHandler Netty Worker #0] mapred.ShuffleHandler (ShuffleHandler.java:load(906)) - Loaded : AttemptPathIdentifier{attemptId='attempt_12345_1_m_1_0', jobId='job_12345_0001'} via loader
2021-06-10 17:19:40,480 DEBUG [ShuffleHandler Netty Worker #0] mapred.ShuffleHandler (ShuffleHandler.java:getMapOutputInfo(1169)) - Retrieved pathInfo for AttemptPathIdentifier{attemptId='attempt_12345_1_m_1_0', jobId='job_12345_0001'} check for corresponding loaded messages to determine whether it was loaded or cached
2021-06-10 17:19:40,480 DEBUG [ShuffleHandler Netty Worker #0] mapred.IndexCache (IndexCache.java:readIndexFileToCache(116)) - IndexCache MISS: MapId attempt_12345_1_m_1_0 not found
2021-06-10 17:19:40,489 DEBUG [ShuffleHandler Netty Worker #0] mapred.ShuffleHandler (ShuffleHandler.java:getMapOutputInfo(1185)) - getMapOutputInfo: jobId=job_12345_0001, mapId=attempt_12345_1_m_1_0,dataFile=/Users/snemeth/development/apache/hadoop/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-shuffle/target/test-dir/TestShuffleHandlerLocDir/usercache/randomUser/appcache/application_12345_0001/output/attempt_12345_1_m_1_0/file.out, indexFile=/Users/snemeth/development/apache/hadoop/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-shuffle/target/test-dir/TestShuffleHandlerLocDir/usercache/randomUser/appcache/application_12345_0001/output/attempt_12345_1_m_1_0/file.out.index
2021-06-10 17:19:40,489 DEBUG [ShuffleHandler Netty Worker #0] mapred.ShuffleHandler (ShuffleHandler.java:sendMap(1114)) - ***before sendMapOutput
2021-06-10 17:19:40,490 DEBUG [ShuffleHandler Netty Worker #0] mapred.ShuffleHandler (ShuffleHandler.java:operationComplete(314)) - operationComplete
2021-06-10 17:19:40,490 DEBUG [Time-limited test] service.AbstractService (AbstractService.java:enterState(444)) - Service: mapreduce_shuffle entered state STOPPED
2021-06-10 17:19:40,490 ERROR [ShuffleHandler Netty Worker #0] mapred.ShuffleHandler (ShuffleHandler.java:operationComplete(331)) - Closing channel
2021-06-10 17:19:40,491 WARN  [ShuffleHandler Netty Worker #0] concurrent.DefaultPromise (DefaultPromise.java:notifyListener0(581)) - An exception was thrown by org.apache.hadoop.mapred.ShuffleHandler$ReduceMapFileCount.operationComplete()
io.netty.util.concurrent.BlockingOperationException: AbstractChannel$CloseFuture@7220a53d(incomplete)
  at io.netty.util.concurrent.DefaultPromise.checkDeadLock(DefaultPromise.java:462)
  at io.netty.channel.DefaultChannelPromise.checkDeadLock(DefaultChannelPromise.java:159)
  at io.netty.util.concurrent.DefaultPromise.awaitUninterruptibly(DefaultPromise.java:268)
  at io.netty.channel.DefaultChannelPromise.awaitUninterruptibly(DefaultChannelPromise.java:137)
  at io.netty.channel.DefaultChannelPromise.awaitUninterruptibly(DefaultChannelPromise.java:30)
  at org.apache.hadoop.mapred.ShuffleHandler$ReduceMapFileCount.operationComplete(ShuffleHandler.java:332)
  at org.apache.hadoop.mapred.ShuffleHandler$ReduceMapFileCount.operationComplete(ShuffleHandler.java:303)
  at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)
  at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:552)
  at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)
  at io.netty.util.concurrent.DefaultPromise.addListener(DefaultPromise.java:184)
  at io.netty.channel.DefaultChannelPromise.addListener(DefaultChannelPromise.java:95)
  at io.netty.channel.DefaultChannelPromise.addListener(DefaultChannelPromise.java:30)
  at org.apache.hadoop.mapred.ShuffleHandler$Shuffle.sendMap(ShuffleHandler.java:1124)
  at org.apache.hadoop.mapred.ShuffleHandler$Shuffle.channelRead(ShuffleHandler.java:1079)
  at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
  at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
  at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
  at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
  at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
  at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
  at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
  at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
  at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
  at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
  at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
  at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
  at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
  at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
  at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
  at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
  at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
  at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719)
  at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)
  at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)
  at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
  at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
  at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
  at java.lang.Thread.run(Thread.java:748)
2021-06-10 17:19:40,492 DEBUG [ShuffleHandler Netty Worker #0] mapred.ShuffleHandler (ShuffleHandler.java:channelInactive(956)) - New value of Accepted number of connections=0
